!function(e,r){"object"==typeof exports&&"undefined"!=typeof module?r(exports,require("@nlux/langchain"),require("@nlux/react"),require("react")):"function"==typeof define&&define.amd?define(["exports","@nlux/langchain","@nlux/react","react"],r):r((e="undefined"!=typeof globalThis?globalThis:e||self)["@nlux/langchain-react"]={},e.langchain,e.react$1,e.react)}(this,(function(e,r,t,a){"use strict";const n=e=>{const{url:t,dataTransferMode:a,headers:n,inputPreProcessor:o,outputPreProcessor:u,useInputSchema:s}=e||{};if(a&&"stream"!==a&&"fetch"!==a)throw new Error("Data transfer mode not supported");if(!t)throw new Error("Runnable URL is required");let c=r.createChatAdapter().withUrl(t);return a&&(c=c.withDataTransferMode(a)),n&&(c=c.withHeaders(n)),o&&(c=c.withInputPreProcessor(o)),u&&(c=c.withOutputPreProcessor(u)),void 0!==s&&(c=c.withInputSchema(s)),c};Object.defineProperty(e,"createChatAdapter",{enumerable:!0,get:function(){return r.createChatAdapter}}),e.useChatAdapter=e=>{const[r,o]=a.useState(!1),[u,s]=a.useState(n(e)),{url:c,dataTransferMode:i,headers:d,inputPreProcessor:f,outputPreProcessor:h,useInputSchema:p}=e||{};return t.useDeepCompareEffect((()=>{if(!r)return void o(!0);const t=n(e);s(t)}),[r,c,i,d||{},f,h,p]),u}}));
