"use strict";var e=require("@nlux/langchain"),r=require("@nlux/react"),t=require("react");const a=r=>{const{url:t,dataTransferMode:a,headers:s,inputPreProcessor:o,outputPreProcessor:u,useInputSchema:n}=r||{};if(a&&"stream"!==a&&"fetch"!==a)throw new Error("Data transfer mode not supported");if(!t)throw new Error("Runnable URL is required");let c=e.createChatAdapter().withUrl(t);return a&&(c=c.withDataTransferMode(a)),s&&(c=c.withHeaders(s)),o&&(c=c.withInputPreProcessor(o)),u&&(c=c.withOutputPreProcessor(u)),void 0!==n&&(c=c.withInputSchema(n)),c};Object.defineProperty(exports,"createChatAdapter",{enumerable:!0,get:function(){return e.createChatAdapter}}),exports.useChatAdapter=e=>{const[s,o]=t.useState(!1),[u,n]=t.useState(a(e)),{url:c,dataTransferMode:i,headers:p,inputPreProcessor:h,outputPreProcessor:d,useInputSchema:P}=e||{};return r.useDeepCompareEffect((()=>{if(!s)return void o(!0);const r=a(e);n(r)}),[s,c,i,p||{},h,d,P]),u};
